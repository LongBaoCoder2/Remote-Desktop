\subsection{Webcam}
Server sẽ gửi lệnh \textbf{WEBCAM} đến client, sau đó sẽ gửi lệnh tương ứng với thời gian cần chụp màn hình, thời gian mặc định là $5$ giây. Client nhận thông điệp từ server, quay màn hình webcam trong khoảng thời gian đó, rồi gửi lại video cho server.\\
Các hàm cho quá trình này như sau:
\begin{itemize}
\item Ở server (mail$\_$handler.py):
\begin{lstlisting}
def capture_webcam(ip_address, time=5):
\end{lstlisting}
Chức năng: gửi yêu cầu ghi lại webcam đến cho client, nhận video từ client gửi về, gửi mail trả lời cho người dùng.\\
Tham số: 
\begin{itemize}
\item \lstinline{ip_address}: kiểu tuple(str, int) chứa địa chỉ ip và port của client gửi tới.
\item \lstinline{time}: thời gian ghi hình webcam (giây).
\end{itemize}
Không có giá trị trả về.
\item Ở client (webcam$\_$client.py):
\begin{lstlisting}
def run(conn: socket.socket):
\end{lstlisting}
Chức năng: nhận yêu cầu từ server, quay màn hình webcam, gửi lại file video cho server.\\
Tham số: 
\begin{itemize}
\item \lstinline{conn}: socket kết nối server với client.
\end{itemize}
Không có giá trị trả về.\\
Thư viện sử dụng: tempfile, cv2, time.\\
Ngoài ra, ở client còn có hàm sau dùng để gửi file về cho server:
\begin{lstlisting}
def send_file(conn: socket.socket):
\end{lstlisting}
\end{itemize}



